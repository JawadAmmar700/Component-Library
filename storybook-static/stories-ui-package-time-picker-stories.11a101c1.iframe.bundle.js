/*! For license information please see stories-ui-package-time-picker-stories.11a101c1.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkcomp_lib=self.webpackChunkcomp_lib||[]).push([[423],{"./src/stories/ui-package/time-picker.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DarkMode:()=>DarkMode,LightMode:()=>LightMode,__namedExportsOrder:()=>__namedExportsOrder,default:()=>time_picker_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.0.0_@babel+core@7.26.0_react-dom@19.0.0-rc-65a56d0e-20241020_react@19.0.0-rc-65a56d0e_p3nmef7tgcfaipoapcl2zwovte/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.0.0_@babel+core@7.26.0_react-dom@19.0.0-rc-65a56d0e-20241020_react@19.0.0-rc-65a56d0e_p3nmef7tgcfaipoapcl2zwovte/node_modules/next/dist/compiled/react/index.js"),picker=__webpack_require__("./src/components/re-uc/picker.tsx"),constants=__webpack_require__("./src/lib/constants.ts");var createLucideIcon=__webpack_require__("./node_modules/.pnpm/lucide-react@0.453.0_react@19.0.0-rc-65a56d0e-20241020/node_modules/lucide-react/dist/esm/createLucideIcon.js");const Sun=(0,createLucideIcon.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),Moon=(0,createLucideIcon.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);var cn=__webpack_require__("./src/utils/cn.ts");function js_cookie_assign(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)target[key]=source[key]}return target}var api=function init(converter,defaultAttributes){function set(name,value,attributes){if("undefined"!=typeof document){"number"==typeof(attributes=js_cookie_assign({},defaultAttributes,attributes)).expires&&(attributes.expires=new Date(Date.now()+864e5*attributes.expires)),attributes.expires&&(attributes.expires=attributes.expires.toUTCString()),name=encodeURIComponent(name).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var stringifiedAttributes="";for(var attributeName in attributes)attributes[attributeName]&&(stringifiedAttributes+="; "+attributeName,!0!==attributes[attributeName]&&(stringifiedAttributes+="="+attributes[attributeName].split(";")[0]));return document.cookie=name+"="+converter.write(value,name)+stringifiedAttributes}}return Object.create({set,get:function get(name){if("undefined"!=typeof document&&(!arguments.length||name)){for(var cookies=document.cookie?document.cookie.split("; "):[],jar={},i=0;i<cookies.length;i++){var parts=cookies[i].split("="),value=parts.slice(1).join("=");try{var found=decodeURIComponent(parts[0]);if(jar[found]=converter.read(value,found),name===found)break}catch(e){}}return name?jar[name]:jar}},remove:function(name,attributes){set(name,"",js_cookie_assign({},attributes,{expires:-1}))},withAttributes:function(attributes){return init(this.converter,js_cookie_assign({},this.attributes,attributes))},withConverter:function(converter){return init(js_cookie_assign({},this.converter,converter),this.attributes)}},{attributes:{value:Object.freeze(defaultAttributes)},converter:{value:Object.freeze(converter)}})}({read:function(value){return'"'===value[0]&&(value=value.slice(1,-1)),value.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(value){return encodeURIComponent(value).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const periods=["AM","PM"],initialState={selectedHour:null,selectedMinute:null,selectedPeriod:null},reducer=(state,action)=>{switch(action.type){case"SET_HOUR":return{...state,selectedHour:action.payload};case"SET_MINUTE":return{...state,selectedMinute:action.payload};case"SET_PERIOD":return{...state,selectedPeriod:action.payload};default:return state}};function TimePicker({theme,className}){const sunsetSunrise=react.useRef(null),[{selectedHour,selectedMinute,selectedPeriod},dispatch]=(0,react.useReducer)(reducer,initialState);(0,react.useEffect)((()=>{const storedData=api.get("TimePicker_Coordinates");if(storedData)sunsetSunrise.current=JSON.parse(storedData);else{if(!navigator.geolocation)throw new Error("Geolocation is not supported by this browser.");navigator.geolocation.getCurrentPosition((async position=>{const latitude=position.coords.latitude.toString(),longitude=position.coords.longitude.toString(),result=await(async(lat,lng)=>{const fetchUrl=`https://api.sunrisesunset.io/json?${new URLSearchParams({lat,lng}).toString()}`,response=await fetch(fetchUrl,{next:{revalidate:86400}}),data=await response.json(),removeSeconds=time=>{const[hour,minute]=time.split(":"),AmPm=time.slice(-2);return`${hour.padStart(2,"0")}:${minute} ${AmPm}`};return{sunrise:removeSeconds(data.results.sunrise),sunset:removeSeconds(data.results.sunset)}})(latitude,longitude);sunsetSunrise.current=result,api.set("TimePicker_Coordinates",JSON.stringify(result),{expires:1})}),(error=>{throw new Error(error.message)}))}}),[]);const timeToMinutes=(0,react.useCallback)((time=>{const[hour,minuteWithPeriod]=time.split(":"),[minute,period]=minuteWithPeriod.split(" ");let hourIn24=parseInt(hour);return"PM"===period&&12!==hourIn24?hourIn24+=12:"AM"===period&&12===hourIn24&&(hourIn24=0),60*hourIn24+parseInt(minute)}),[]),formattedTime=(0,react.useMemo)((()=>{if(null===selectedHour||null===selectedMinute||null===selectedPeriod)return"";const hour=selectedHour.toString().padStart(2,"0"),minute=selectedMinute.toString().padStart(2,"0"),period=selectedPeriod;if(null!==selectedHour&&"PM"===selectedPeriod&&12!==selectedHour){return`${(selectedHour%12).toString().padStart(2,"0")}:${minute} ${period}`}return`${hour}:${minute} ${period}`}),[selectedHour,selectedMinute,selectedPeriod]),checkDayOrNight=(0,react.useMemo)((()=>{if(!sunsetSunrise.current)return;const sunriseTime=timeToMinutes(sunsetSunrise.current.sunrise),sunsetTime=timeToMinutes(sunsetSunrise.current.sunset),selectedTime=timeToMinutes(formattedTime);return selectedTime>=sunriseTime&&selectedTime<=sunsetTime?"day":"night"}),[formattedTime,sunsetSunrise]);return(0,jsx_runtime.jsxs)("div",{className:(0,cn.cn)(("dark"===theme?"bg-black":"bg-slate-50")+" flex shadow-lg space-x-2 relative transition-all duration-300 md:mt-0 rounded-lg px-5 py-5",className),children:[(0,jsx_runtime.jsxs)("div",{className:"flex mt-[50px] space-x-1",children:[(0,jsx_runtime.jsx)(picker.A,{componentWidth:75,visibleItems:3,soundEffect:"click",onValueChange:value=>dispatch({type:"SET_HOUR",payload:null!==value?parseInt(value.toString(),10):null}),scrollVelocity:2,options:constants.c$,labelText:"Hour",ObserverClassName:"  "+("dark"===theme?"text-slate-200 border-white bg-white/10":"text-gray-700 border-none bg-white"),itemClassName:""+("dark"===theme?"text-white":"text-black"),initialValue:12==(new Date).getHours()?12:(new Date).getHours()%12}),(0,jsx_runtime.jsx)(picker.A,{componentWidth:90,visibleItems:3,soundEffect:"click",options:constants.Gx,onValueChange:value=>dispatch({type:"SET_MINUTE",payload:null!==value?parseInt(value.toString(),10):null}),scrollVelocity:2,labelText:"Minute",ObserverClassName:"  "+("dark"===theme?"text-slate-200 border-white bg-white/10":"text-gray-700 border-none bg-white"),itemClassName:""+("dark"===theme?"text-white":"text-black"),initialValue:(new Date).getMinutes()+1}),(0,jsx_runtime.jsx)(picker.A,{componentWidth:90,visibleItems:2,soundEffect:"click",onValueChange:value=>dispatch({type:"SET_PERIOD",payload:value}),options:periods,scrollVelocity:2,labelText:"Period",ObserverClassName:"  "+("dark"===theme?"text-slate-200 border-white bg-white/10":"text-gray-700 border-none bg-white"),itemClassName:""+("dark"===theme?"text-white":"text-black"),initialValue:(new Date).getHours()>=12?2:1})]}),(0,jsx_runtime.jsx)("div",{className:"text-2xl font-bold absolute right-2 rounded px-2 bottom-2 flex space-x-1 items-center justify-center transition-all duration-200 ease-in transform","aria-live":"polite",children:"day"===checkDayOrNight?(0,jsx_runtime.jsx)(Sun,{className:"h-5 w-5 mt-0.5 text-yellow-400 animate-scale"}):(0,jsx_runtime.jsx)(Moon,{className:"h-5 w-5 text-blue-300 mt-0.5 animate-scale"})})]})}TimePicker.__docgenInfo={description:"",methods:[],displayName:"TimePicker",props:{theme:{required:!0,tsType:{name:"union",raw:'"light" | "dark"',elements:[{name:"literal",value:'"light"'},{name:"literal",value:'"dark"'}]},description:""},className:{required:!1,tsType:{name:"string"},description:""}}};const time_picker_stories={component:TimePicker,parameters:{layout:"centered"},tags:["autodocs"],title:"TimePicker",argTypes:{theme:{description:"Change the theme of the component",control:{type:"select",options:["Light","Dark"]}},className:{description:"TailwindCSS class for customizing the component appearance.",control:{type:"text"}}}},LightMode={args:{theme:"light"}},DarkMode={args:{theme:"dark"}},__namedExportsOrder=["LightMode","DarkMode"];LightMode.parameters={...LightMode.parameters,docs:{...LightMode.parameters?.docs,source:{originalSource:'{\n  args: {\n    //ðŸ‘‡ The args you need here will depend on your component\n    theme: "light"\n  }\n}',...LightMode.parameters?.docs?.source}}},DarkMode.parameters={...DarkMode.parameters,docs:{...DarkMode.parameters?.docs,source:{originalSource:'{\n  args: {\n    //ðŸ‘‡ The args you need here will depend on your component\n    theme: "dark"\n  }\n}',...DarkMode.parameters?.docs?.source}}}}}]);